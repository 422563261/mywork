<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>boss4</title>
</head>
<body>
	<div id="myDiv1"></div>
  <br>
  <hr>
  <br>
  <div id="myDiv2"></div>
  <button type="button" onclick="request()" id="button">点我啊</button>
</body>
<script>
var button=document.getElementById("button");
var ajax1;
var ajax2;
////
function loadXMLDoc(url,loc){
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById(loc).innerHTML=xmlhttp.responseText;
    if (ajax1=true) {
      if (ajax2=true) {
        f();
      };
    };
    }
  }
xmlhttp.open("GET",url,true);
xmlhttp.send();
}
/////
function f(){
  console.log("哎呀， 2个请求都到啦");
}
/////
function request(){
	ajax1=loadXMLDoc("echo1.php","myDiv1");
  ajax2=loadXMLDoc("echo.php","myDiv2");
  button.style.display="none";
}
</script>
</html>